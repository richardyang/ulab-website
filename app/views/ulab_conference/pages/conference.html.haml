- content_for :header do
  .d-md-flex.flex-items-start.my-4
    %div.flex-auto
      %h1.mb-1= current_page.title
      .text-gray
        %div
          = time_tag conference.dates.min, l(conference.dates.min, format: :long)
          to
          = time_tag conference.dates.max, l(conference.dates.max, format: :long)
        %address<
          = "#{conference.institution.name}"
          = ", #{conference.institution.city}" unless conference.institution.name.include? conference.institution.city
    = responsive_image_tag conference.institution.logo.file, variant: { resize_to_limit: [300, 60] }, draggable: false, class: %w[flex-shrink-0 pl-md-4 pt-4 pt-md-0] if conference.institution.logo

= render part(:gallery), controls: true

- content_for :content do
  .markdown-body.my-4= render part(:text)

  - if content(:submission_date)&.>= Date.today
    .alert.my-4
      %strong
        Submit abstracts by
        = time_tag content(:submission_date), l(content(:submission_date), format: :short)
      - if has_content? :submission_text
        = content(:submission_text).try :html_safe
      - if has_content? :submission_url
        = link_to 'Submit an abstract', content(:submission_url), class: [:button, :solid]

  .Subhead.Subhead--spacious
    %h2.Subhead-heading Events
  = render 'shared/subnav', collection: [part(:socials), part(:meetings)], method: :title, cached: true

  .Subhead.Subhead--spacious
    %h2.Subhead-heading Presentations
    .Subhead-actions

  = render 'shared/subnav', collection: conference.presentation_types.order(:name), method: :name, cached: true do
    = link_to conferences_conference_url(conference, protocol: :webcal, format: :ics), class: %w[btn btn-primary float-right], role: :button do
      = octicon 'calendar'
      Subscribe
  = render part(:sponsors), cached: true
